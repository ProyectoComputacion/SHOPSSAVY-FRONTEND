<!-- Fondo beige igual que Home -->
<div class="min-vh-100 py-4 bg-beige">
  <div class="container shadow rounded p-4 bg-white">

    <!-- FILTROS -->
    <div class="filtros">
      <!-- Botón hamburguesa -->
      <div
        class="hamburger-btn"
        data-bs-toggle="offcanvas"
        data-bs-target="#offcanvasCategoriasRecetas"
        aria-controls="offcanvasCategoriasRecetas"
      >
        <span></span>
        <span></span>
        <span></span>
      </div>
      <!-- Placeholder para futuro filtro de tipo -->
      <div class="type-filter"></div>
    </div>

    <!-- Offcanvas Categorías -->
    <div
      class="offcanvas offcanvas-start"
      tabindex="-1"
      id="offcanvasCategoriasRecetas"
      aria-labelledby="offcanvasCategoriasRecetasLabel"
    >
      <div class="offcanvas-header">
        <h5 id="offcanvasCategoriasRecetasLabel">Categorías</h5>
        <button
          type="button"
          class="btn-close text-reset"
          data-bs-dismiss="offcanvas"
          aria-label="Cerrar"
        ></button>
      </div>
      <div class="offcanvas-body p-0">
        <ul class="list-group list-group-flush">
          <li
            class="list-group-item"
            *ngFor="let categoria of categorias"
            (click)="setCategoria(categoria)"
            [class.active]="categoria === filtroCategoria"
          >
            {{ categoria | titlecase }}
          </li>
          <li
            class="list-group-item text-muted"
            (click)="setCategoria('')"
          >
            Ver todas
          </li>
        </ul>
      </div>
    </div>

    <!-- LISTA DE RECETAS -->
    <div class="recetas-grid">
      <div class="receta-card" *ngFor="let receta of recetasFiltradas">
        <div class="receta-img-container">
          <img
            [src]="receta.imagen"
            alt="{{ receta.name }}"
            class="receta-img"
          />
          <h3 class="receta-titulo">{{ receta.name }}</h3>
        </div>
        <div class="receta-info">
          <span
            class="receta-categoria"
            [ngClass]="{ 'michelin': receta.tipo === 'Recetas Michelin' }"
          >
            {{
              receta.tipo === 'Recetas Michelin' ? 'Michelin ' : 'Normal '
            }}
          </span>
          <div class="botones">
            <!-- Botón estrella -->
            <button
              type="button"
              class="favorito-btn"
              data-bs-toggle="modal"
              data-bs-target="#modalCategoriaFavorito"
              (click)="abrirModalCategoria(receta)"
            >
              ☆
            </button>
            <button
              class="receta-btn"
              (click)="verDetalles(receta.id)"
            >
              Ver detalles
            </button>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

<!-- MODAL PARA ELEGIR LA CATEGORÍA DE FAVORITO -->
<div
  class="modal fade"
  id="modalCategoriaFavorito"
  tabindex="-1"
  aria-labelledby="modalCategoriaFavoritoLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalCategoriaFavoritoLabel">
          Elige una categoría
        </h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Cerrar"
        ></button>
      </div>
      <div class="modal-body">
        <div class="categorias-grid">
          <button
            type="button"
            class="categoria-card btn"
            data-bs-dismiss="modal"
            (click)="seleccionarCategoria('Especial para invitados')"
          >
            <img src="/assets/imgs/invitados.jpg" alt="Invitados" />
            <h6>Especial para invitados</h6>
          </button>
          <button
            type="button"
            class="categoria-card btn"
            data-bs-dismiss="modal"
            (click)="seleccionarCategoria('Recetas saludables')"
          >
            <img src="/assets/imgs/saludable.jpg" alt="Saludable" />
            <h6>Recetas saludables</h6>
          </button>
          <button
            type="button"
            class="categoria-card btn"
            data-bs-dismiss="modal"
            (click)="seleccionarCategoria('Para cenas rápidas')"
          >
            <img src="/assets/imgs/rapida.jpeg" alt="Rápida" />
            <h6>Para cenas rápidas</h6>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
