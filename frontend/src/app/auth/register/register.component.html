<body>
  <div class="container">
    <div class="registro-box">
      <h2><b>Regístrate</b></h2>
      <form (ngSubmit)="register()">
        <div class="mb-3">
          <label>Nombre</label>
          <input type="text" class="form-control" [(ngModel)]="username" name="username" required />
        </div>
        <div class="mb-3">
          <label>Contraseña</label>
          <input type="password" class="form-control" [(ngModel)]="password" name="password" required />
        </div>
        <div class="mb-3">
          <label for="role">Selecciona tu rol:</label>
          <select id="role" class="form-select" [(ngModel)]="role" name="role" (change)="onRoleChange($event)">
            <option value="user">user</option>
            <option value="chef">chef</option>
          </select>                 
        </div>        

        <!-- Mensajes de error -->
        <p *ngIf="errorMessage" class="text-danger">{{ errorMessage }}</p>
        <p *ngIf="passwordError" class="text-danger">{{ passwordError }}</p>

        <!-- Botón con animación de carga -->
        <button type="submit" class="btn btn-success no-border" [disabled]="isLoading">
          <span *ngIf="!isLoading">Registrarse</span>
          <span *ngIf="isLoading">
            <i class="spinner-border spinner-border-sm"></i> Registrando...
          </span>
        </button>

        <p class="mt-3">
          ¿Ya tienes cuenta? <a (click)="goToLogin()" class="login-link">Inicia sesión</a>
        </p>
      </form>
    </div>
    <h1 class="sample-text">ShopSavy</h1>
  </div>
</body>
